"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "(pages-dir-browser)/./contexts/AuthContext.jsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.jsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(pages-dir-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(pages-dir-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../firebase */ \"(pages-dir-browser)/./firebase.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(pages-dir-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\n// Hardcoded admin emails (optional). You can also store these in Firestore.\nconst ADMIN_EMAILS = [\n    // Project admins\n    'indiacustomerhelp05@gmail.com',\n    'newmess1231@gmail.com',\n    'abhishekuniyal282@gmail.com'\n];\nconst AuthProvider = (param)=>{\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // 'admin' | 'user' | null\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const FIRESTORE_ENABLED = (()=>{\n        try {\n            return process.env.NEXT_PUBLIC_FIRESTORE_ENABLED === '1';\n        } catch (_) {\n            return false;\n        }\n    })();\n    // Ensure a user doc exists with a role; if not, assign based on ADMIN_EMAILS\n    const ensureUserDoc = async (firebaseUser)=>{\n        if (!firebaseUser) return null;\n        const userEmail = firebaseUser.email || '';\n        const lowerEmail = userEmail.toLowerCase();\n        const derivedRole = ADMIN_EMAILS.includes(lowerEmail) ? 'admin' : 'user';\n        console.log('[AuthContext] ensureUserDoc:', {\n            email: userEmail,\n            lowerEmail,\n            isAdminEmail: ADMIN_EMAILS.includes(lowerEmail),\n            derivedRole,\n            adminEmails: ADMIN_EMAILS\n        });\n        // Fire-and-forget write to persist role; do not block login\n        if (FIRESTORE_ENABLED) {\n            try {\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, 'users', firebaseUser.uid), {\n                    uid: firebaseUser.uid,\n                    email: userEmail,\n                    displayName: firebaseUser.displayName || null,\n                    role: derivedRole,\n                    createdAt: new Date().toISOString()\n                }, {\n                    merge: true\n                });\n                console.log('[AuthContext] User doc saved to Firestore');\n            } catch (error) {\n                console.error('[AuthContext] Error saving user doc to Firestore:', error);\n            }\n        }\n        return derivedRole;\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            const unsub = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, {\n                \"AuthProvider.useEffect.unsub\": async (firebaseUser)=>{\n                    console.log('[AuthContext] Auth state changed:', firebaseUser === null || firebaseUser === void 0 ? void 0 : firebaseUser.email);\n                    if (!firebaseUser) {\n                        console.log('[AuthContext] No user, clearing state');\n                        setUser(null);\n                        setRole(null);\n                        setLoading(false);\n                        return;\n                    }\n                    console.log('[AuthContext] User found, setting user state');\n                    setUser(firebaseUser);\n                    try {\n                        console.log('[AuthContext] Ensuring user doc and role...');\n                        const currentRole = await ensureUserDoc(firebaseUser);\n                        console.log('[AuthContext] Role assigned:', currentRole);\n                        setRole(currentRole);\n                    } catch (error) {\n                        console.error('[AuthContext] Error ensuring user doc:', error);\n                        setRole('user');\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"AuthProvider.useEffect.unsub\"]);\n            ({\n                \"AuthProvider.useEffect\": async ()=>{\n                    try {\n                        const res = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getRedirectResult)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth);\n                        if (res === null || res === void 0 ? void 0 : res.user) {\n                            console.log('[AuthContext] Redirect result found:', res.user.email);\n                            const role = await ensureUserDoc(res.user);\n                            console.log('[AuthContext] Redirect user role assigned:', role);\n                        }\n                    } catch (error) {\n                        console.error('[AuthContext] Error handling redirect result:', error);\n                    }\n                }\n            })[\"AuthProvider.useEffect\"]();\n            return ({\n                \"AuthProvider.useEffect\": ()=>unsub()\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    const signupWithEmail = async (email, password, displayName)=>{\n        const cred = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.createUserWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, email, password);\n        if (displayName) {\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.updateProfile)(cred.user, {\n                displayName\n            });\n        }\n        const assignedRole = ADMIN_EMAILS.includes(email) ? 'admin' : 'user';\n        if (FIRESTORE_ENABLED) {\n            try {\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, 'users', cred.user.uid), {\n                    uid: cred.user.uid,\n                    email,\n                    displayName: displayName || null,\n                    role: assignedRole,\n                    createdAt: new Date().toISOString()\n                });\n            } catch (_err) {\n            // Ignore Firestore failure: account creation is still valid\n            }\n        }\n        return cred.user;\n    };\n    const loginWithEmail = (email, password)=>(0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, email, password);\n    const loginWithGoogle = async ()=>{\n        try {\n            // Check if popup is likely to be blocked\n            const isPopupBlocked = ()=>{\n                try {\n                    // Test if we can open a popup\n                    const testPopup = window.open('', '_blank', 'width=1,height=1');\n                    if (testPopup) {\n                        testPopup.close();\n                        return false;\n                    }\n                    return true;\n                } catch (e) {\n                    return true;\n                }\n            };\n            // Check for COOP policy or popup blocking\n            const shouldUseRedirect = isPopupBlocked() || window.navigator.userAgent.includes('Safari') || // Safari has stricter COOP\n            window.navigator.userAgent.includes('Firefox'); // Firefox has COOP issues\n            if (shouldUseRedirect) {\n                console.log('[AuthContext] Using redirect flow (popup likely blocked or COOP issue)');\n                await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithRedirect)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, _firebase__WEBPACK_IMPORTED_MODULE_4__.googleProvider);\n                return null; // Will be handled by redirect result\n            }\n            // Try popup with better error handling\n            try {\n                const cred = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithPopup)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, _firebase__WEBPACK_IMPORTED_MODULE_4__.googleProvider);\n                console.log('[AuthContext] Google sign-in successful:', cred.user.email);\n                try {\n                    const role = await ensureUserDoc(cred.user);\n                    console.log('[AuthContext] User role assigned:', role);\n                } catch (error) {\n                    console.error('[AuthContext] Error ensuring user doc:', error);\n                }\n                return cred.user;\n            } catch (popupError) {\n                console.error('[AuthContext] Google popup failed:', popupError);\n                // Check if it's a COOP or popup blocked error\n                const isPopupBlockedError = popupError.code === 'auth/popup-blocked' || popupError.code === 'auth/popup-closed-by-user' || popupError.message.includes('Cross-Origin-Opener-Policy') || popupError.message.includes('COOP');\n                if (isPopupBlockedError) {\n                    console.log('[AuthContext] Popup blocked, falling back to redirect');\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithRedirect)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, _firebase__WEBPACK_IMPORTED_MODULE_4__.googleProvider);\n                    return null; // Will be handled by redirect result\n                }\n                throw popupError;\n            }\n        } catch (error) {\n            console.error('[AuthContext] Google authentication failed:', error);\n            // Final fallback to redirect\n            if (error.code !== 'auth/popup-closed-by-user') {\n                try {\n                    console.log('[AuthContext] Final fallback to redirect');\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithRedirect)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, _firebase__WEBPACK_IMPORTED_MODULE_4__.googleProvider);\n                    return null;\n                } catch (redirectError) {\n                    console.error('[AuthContext] All Google auth methods failed:', redirectError);\n                    throw error; // Throw original error\n                }\n            }\n            throw error;\n        }\n    };\n    const logout = ()=>(0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth);\n    const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AuthProvider.useMemo[value]\": ()=>({\n                user,\n                role,\n                loading,\n                signupWithEmail,\n                loginWithEmail,\n                loginWithGoogle,\n                logout\n            })\n    }[\"AuthProvider.useMemo[value]\"], [\n        user,\n        role,\n        loading\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Newmess Internship\\\\Production_1\\\\Frontend-NextJS\\\\contexts\\\\AuthContext.jsx\",\n        lineNumber: 222,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AuthProvider, \"2jAb8IXb5jsDc04roThubmNR2DY=\");\n_c = AuthProvider;\nconst useAuth = ()=>{\n    _s1();\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (!ctx) throw new Error('useAuth must be used within AuthProvider');\n    return ctx;\n};\n_s1(useAuth, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbnRleHRzL0F1dGhDb250ZXh0LmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBdUY7QUFVaEU7QUFDMEI7QUFDTTtBQUV2RCxNQUFNbUIsNEJBQWNsQixvREFBYUEsQ0FBQztBQUVsQyw0RUFBNEU7QUFDNUUsTUFBTW1CLGVBQWU7SUFDbkIsaUJBQWlCO0lBQ2pCO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTUMsZUFBZTtRQUFDLEVBQUVDLFFBQVEsRUFBRTs7SUFDdkMsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNvQixNQUFNQyxRQUFRLEdBQUdyQiwrQ0FBUUEsQ0FBQyxPQUFPLDBCQUEwQjtJQUNsRSxNQUFNLENBQUNzQixTQUFTQyxXQUFXLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNd0Isb0JBQW9CLENBQUM7UUFDekIsSUFBSTtZQUFFLE9BQU9DLE9BQU9BLENBQUNDLEdBQUcsQ0FBQ0MsNkJBQTZCLEtBQUs7UUFBSyxFQUFFLE9BQU9DLEdBQUc7WUFBRSxPQUFPO1FBQU87SUFDOUY7SUFFQSw2RUFBNkU7SUFDN0UsTUFBTUMsZ0JBQWdCLE9BQU9DO1FBQzNCLElBQUksQ0FBQ0EsY0FBYyxPQUFPO1FBRTFCLE1BQU1DLFlBQVlELGFBQWFFLEtBQUssSUFBSTtRQUN4QyxNQUFNQyxhQUFhRixVQUFVRyxXQUFXO1FBQ3hDLE1BQU1DLGNBQWNwQixhQUFhcUIsUUFBUSxDQUFDSCxjQUFjLFVBQVU7UUFFbEVJLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0M7WUFDMUNOLE9BQU9EO1lBQ1BFO1lBQ0FNLGNBQWN4QixhQUFhcUIsUUFBUSxDQUFDSDtZQUNwQ0U7WUFDQUssYUFBYXpCO1FBQ2Y7UUFFQSw0REFBNEQ7UUFDNUQsSUFBSVMsbUJBQW1CO1lBQ3JCLElBQUk7Z0JBQ0YsTUFBTWQsMERBQU1BLENBQ1ZELHVEQUFHQSxDQUFDRyx5Q0FBRUEs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bl8xXFxGcm9udGVuZC1OZXh0SlNcXGNvbnRleHRzXFxBdXRoQ29udGV4dC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXG4gIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCxcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25JbldpdGhQb3B1cCxcbiAgc2lnbkluV2l0aFJlZGlyZWN0LFxuICBnZXRSZWRpcmVjdFJlc3VsdCxcbiAgc2lnbk91dCxcbiAgdXBkYXRlUHJvZmlsZSxcbn0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBkb2MsIHNldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBhdXRoLCBkYiwgZ29vZ2xlUHJvdmlkZXIgfSBmcm9tICcuLi9maXJlYmFzZSc7XG5cbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcblxuLy8gSGFyZGNvZGVkIGFkbWluIGVtYWlscyAob3B0aW9uYWwpLiBZb3UgY2FuIGFsc28gc3RvcmUgdGhlc2UgaW4gRmlyZXN0b3JlLlxuY29uc3QgQURNSU5fRU1BSUxTID0gW1xuICAvLyBQcm9qZWN0IGFkbWluc1xuICAnaW5kaWFjdXN0b21lcmhlbHAwNUBnbWFpbC5jb20nLFxuICAnbmV3bWVzczEyMzFAZ21haWwuY29tJyxcbiAgJ2FiaGlzaGVrdW5peWFsMjgyQGdtYWlsLmNvbScsXG5dO1xuXG5leHBvcnQgY29uc3QgQXV0aFByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7IC8vICdhZG1pbicgfCAndXNlcicgfCBudWxsXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBGSVJFU1RPUkVfRU5BQkxFRCA9ICgoKSA9PiB7XG4gICAgdHJ5IHsgcmV0dXJuIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVTVE9SRV9FTkFCTEVEID09PSAnMSc7IH0gY2F0Y2ggKF8pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH0pKCk7XG5cbiAgLy8gRW5zdXJlIGEgdXNlciBkb2MgZXhpc3RzIHdpdGggYSByb2xlOyBpZiBub3QsIGFzc2lnbiBiYXNlZCBvbiBBRE1JTl9FTUFJTFNcbiAgY29uc3QgZW5zdXJlVXNlckRvYyA9IGFzeW5jIChmaXJlYmFzZVVzZXIpID0+IHtcbiAgICBpZiAoIWZpcmViYXNlVXNlcikgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3QgdXNlckVtYWlsID0gZmlyZWJhc2VVc2VyLmVtYWlsIHx8ICcnO1xuICAgIGNvbnN0IGxvd2VyRW1haWwgPSB1c2VyRW1haWwudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBkZXJpdmVkUm9sZSA9IEFETUlOX0VNQUlMUy5pbmNsdWRlcyhsb3dlckVtYWlsKSA/ICdhZG1pbicgOiAndXNlcic7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tBdXRoQ29udGV4dF0gZW5zdXJlVXNlckRvYzonLCB7XG4gICAgICBlbWFpbDogdXNlckVtYWlsLFxuICAgICAgbG93ZXJFbWFpbCxcbiAgICAgIGlzQWRtaW5FbWFpbDogQURNSU5fRU1BSUxTLmluY2x1ZGVzKGxvd2VyRW1haWwpLFxuICAgICAgZGVyaXZlZFJvbGUsXG4gICAgICBhZG1pbkVtYWlsczogQURNSU5fRU1BSUxTXG4gICAgfSk7XG4gICAgXG4gICAgLy8gRmlyZS1hbmQtZm9yZ2V0IHdyaXRlIHRvIHBlcnNpc3Qgcm9sZTsgZG8gbm90IGJsb2NrIGxvZ2luXG4gICAgaWYgKEZJUkVTVE9SRV9FTkFCTEVEKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBzZXREb2MoXG4gICAgICAgICAgZG9jKGRiLCAndXNlcnMnLCBmaXJlYmFzZVVzZXIudWlkKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1aWQ6IGZpcmViYXNlVXNlci51aWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlckVtYWlsLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IGZpcmViYXNlVXNlci5kaXNwbGF5TmFtZSB8fCBudWxsLFxuICAgICAgICAgICAgcm9sZTogZGVyaXZlZFJvbGUsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgbWVyZ2U6IHRydWUgfVxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhDb250ZXh0XSBVc2VyIGRvYyBzYXZlZCB0byBGaXJlc3RvcmUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoQ29udGV4dF0gRXJyb3Igc2F2aW5nIHVzZXIgZG9jIHRvIEZpcmVzdG9yZTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkZXJpdmVkUm9sZTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3ViID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIChmaXJlYmFzZVVzZXIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIEF1dGggc3RhdGUgY2hhbmdlZDonLCBmaXJlYmFzZVVzZXI/LmVtYWlsKTtcbiAgICAgIFxuICAgICAgaWYgKCFmaXJlYmFzZVVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoQ29udGV4dF0gTm8gdXNlciwgY2xlYXJpbmcgc3RhdGUnKTtcbiAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgc2V0Um9sZShudWxsKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tBdXRoQ29udGV4dF0gVXNlciBmb3VuZCwgc2V0dGluZyB1c2VyIHN0YXRlJyk7XG4gICAgICBzZXRVc2VyKGZpcmViYXNlVXNlcik7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIEVuc3VyaW5nIHVzZXIgZG9jIGFuZCByb2xlLi4uJyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb2xlID0gYXdhaXQgZW5zdXJlVXNlckRvYyhmaXJlYmFzZVVzZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhDb250ZXh0XSBSb2xlIGFzc2lnbmVkOicsIGN1cnJlbnRSb2xlKTtcbiAgICAgICAgc2V0Um9sZShjdXJyZW50Um9sZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aENvbnRleHRdIEVycm9yIGVuc3VyaW5nIHVzZXIgZG9jOicsIGVycm9yKTtcbiAgICAgICAgc2V0Um9sZSgndXNlcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gSGFuZGxlIHJlZGlyZWN0IHNpZ24taW4gcmVzdWx0IChpZiBwb3B1cCBibG9ja2VkKVxuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAgICAgICAgaWYgKHJlcz8udXNlcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIFJlZGlyZWN0IHJlc3VsdCBmb3VuZDonLCByZXMudXNlci5lbWFpbCk7XG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGF3YWl0IGVuc3VyZVVzZXJEb2MocmVzLnVzZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIFJlZGlyZWN0IHVzZXIgcm9sZSBhc3NpZ25lZDonLCByb2xlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhDb250ZXh0XSBFcnJvciBoYW5kbGluZyByZWRpcmVjdCByZXN1bHQ6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHVuc3ViKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzaWdudXBXaXRoRW1haWwgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkLCBkaXNwbGF5TmFtZSkgPT4ge1xuICAgIGNvbnN0IGNyZWQgPSBhd2FpdCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAgICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICAgIGF3YWl0IHVwZGF0ZVByb2ZpbGUoY3JlZC51c2VyLCB7IGRpc3BsYXlOYW1lIH0pO1xuICAgIH1cbiAgICBjb25zdCBhc3NpZ25lZFJvbGUgPSBBRE1JTl9FTUFJTFMuaW5jbHVkZXMoZW1haWwpID8gJ2FkbWluJyA6ICd1c2VyJztcbiAgICBpZiAoRklSRVNUT1JFX0VOQUJMRUQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNldERvYyhkb2MoZGIsICd1c2VycycsIGNyZWQudXNlci51aWQpLCB7XG4gICAgICAgICAgdWlkOiBjcmVkLnVzZXIudWlkLFxuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSB8fCBudWxsLFxuICAgICAgICAgIHJvbGU6IGFzc2lnbmVkUm9sZSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgIC8vIElnbm9yZSBGaXJlc3RvcmUgZmFpbHVyZTogYWNjb3VudCBjcmVhdGlvbiBpcyBzdGlsbCB2YWxpZFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3JlZC51c2VyO1xuICB9O1xuXG4gIGNvbnN0IGxvZ2luV2l0aEVtYWlsID0gKGVtYWlsLCBwYXNzd29yZCkgPT4gc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcblxuICBjb25zdCBsb2dpbldpdGhHb29nbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIHBvcHVwIGlzIGxpa2VseSB0byBiZSBibG9ja2VkXG4gICAgICBjb25zdCBpc1BvcHVwQmxvY2tlZCA9ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUZXN0IGlmIHdlIGNhbiBvcGVuIGEgcG9wdXBcbiAgICAgICAgICBjb25zdCB0ZXN0UG9wdXAgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycsICd3aWR0aD0xLGhlaWdodD0xJyk7XG4gICAgICAgICAgaWYgKHRlc3RQb3B1cCkge1xuICAgICAgICAgICAgdGVzdFBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIENPT1AgcG9saWN5IG9yIHBvcHVwIGJsb2NraW5nXG4gICAgICBjb25zdCBzaG91bGRVc2VSZWRpcmVjdCA9IGlzUG9wdXBCbG9ja2VkKCkgfHwgXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdTYWZhcmknKSB8fCAvLyBTYWZhcmkgaGFzIHN0cmljdGVyIENPT1BcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0ZpcmVmb3gnKTsgLy8gRmlyZWZveCBoYXMgQ09PUCBpc3N1ZXNcblxuICAgICAgaWYgKHNob3VsZFVzZVJlZGlyZWN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIFVzaW5nIHJlZGlyZWN0IGZsb3cgKHBvcHVwIGxpa2VseSBibG9ja2VkIG9yIENPT1AgaXNzdWUpJyk7XG4gICAgICAgIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBnb29nbGVQcm92aWRlcik7XG4gICAgICAgIHJldHVybiBudWxsOyAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVkaXJlY3QgcmVzdWx0XG4gICAgICB9XG5cbiAgICAgIC8vIFRyeSBwb3B1cCB3aXRoIGJldHRlciBlcnJvciBoYW5kbGluZ1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlZCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBnb29nbGVQcm92aWRlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aENvbnRleHRdIEdvb2dsZSBzaWduLWluIHN1Y2Nlc3NmdWw6JywgY3JlZC51c2VyLmVtYWlsKTtcbiAgICAgICAgdHJ5IHsgXG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGF3YWl0IGVuc3VyZVVzZXJEb2MoY3JlZC51c2VyKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhDb250ZXh0XSBVc2VyIHJvbGUgYXNzaWduZWQ6Jywgcm9sZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhDb250ZXh0XSBFcnJvciBlbnN1cmluZyB1c2VyIGRvYzonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWQudXNlcjtcbiAgICAgIH0gY2F0Y2ggKHBvcHVwRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhDb250ZXh0XSBHb29nbGUgcG9wdXAgZmFpbGVkOicsIHBvcHVwRXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIENPT1Agb3IgcG9wdXAgYmxvY2tlZCBlcnJvclxuICAgICAgICBjb25zdCBpc1BvcHVwQmxvY2tlZEVycm9yID0gcG9wdXBFcnJvci5jb2RlID09PSAnYXV0aC9wb3B1cC1ibG9ja2VkJyB8fCBcbiAgICAgICAgICBwb3B1cEVycm9yLmNvZGUgPT09ICdhdXRoL3BvcHVwLWNsb3NlZC1ieS11c2VyJyB8fFxuICAgICAgICAgIHBvcHVwRXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQ3Jvc3MtT3JpZ2luLU9wZW5lci1Qb2xpY3knKSB8fFxuICAgICAgICAgIHBvcHVwRXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQ09PUCcpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzUG9wdXBCbG9ja2VkRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhDb250ZXh0XSBQb3B1cCBibG9ja2VkLCBmYWxsaW5nIGJhY2sgdG8gcmVkaXJlY3QnKTtcbiAgICAgICAgICBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgZ29vZ2xlUHJvdmlkZXIpO1xuICAgICAgICAgIHJldHVybiBudWxsOyAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVkaXJlY3QgcmVzdWx0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IHBvcHVwRXJyb3I7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoQ29udGV4dF0gR29vZ2xlIGF1dGhlbnRpY2F0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIEZpbmFsIGZhbGxiYWNrIHRvIHJlZGlyZWN0XG4gICAgICBpZiAoZXJyb3IuY29kZSAhPT0gJ2F1dGgvcG9wdXAtY2xvc2VkLWJ5LXVzZXInKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoQ29udGV4dF0gRmluYWwgZmFsbGJhY2sgdG8gcmVkaXJlY3QnKTtcbiAgICAgICAgICBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgZ29vZ2xlUHJvdmlkZXIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGNhdGNoIChyZWRpcmVjdEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhDb250ZXh0XSBBbGwgR29vZ2xlIGF1dGggbWV0aG9kcyBmYWlsZWQ6JywgcmVkaXJlY3RFcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFRocm93IG9yaWdpbmFsIGVycm9yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHNpZ25PdXQoYXV0aCk7XG5cbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7IHVzZXIsIHJvbGUsIGxvYWRpbmcsIHNpZ251cFdpdGhFbWFpbCwgbG9naW5XaXRoRW1haWwsIGxvZ2luV2l0aEdvb2dsZSwgbG9nb3V0IH0pLFxuICAgIFt1c2VyLCByb2xlLCBsb2FkaW5nXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xuICBjb25zdCBjdHggPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKCFjdHgpIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIEF1dGhQcm92aWRlcicpO1xuICByZXR1cm4gY3R4O1xufTtcblxuXG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJzaWduSW5XaXRoUG9wdXAiLCJzaWduSW5XaXRoUmVkaXJlY3QiLCJnZXRSZWRpcmVjdFJlc3VsdCIsInNpZ25PdXQiLCJ1cGRhdGVQcm9maWxlIiwiZG9jIiwic2V0RG9jIiwiYXV0aCIsImRiIiwiZ29vZ2xlUHJvdmlkZXIiLCJBdXRoQ29udGV4dCIsIkFETUlOX0VNQUlMUyIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJyb2xlIiwic2V0Um9sZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiRklSRVNUT1JFX0VOQUJMRUQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRVNUT1JFX0VOQUJMRUQiLCJfIiwiZW5zdXJlVXNlckRvYyIsImZpcmViYXNlVXNlciIsInVzZXJFbWFpbCIsImVtYWlsIiwibG93ZXJFbWFpbCIsInRvTG93ZXJDYXNlIiwiZGVyaXZlZFJvbGUiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJpc0FkbWluRW1haWwiLCJhZG1pbkVtYWlscyIsInVpZCIsImRpc3BsYXlOYW1lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWVyZ2UiLCJlcnJvciIsInVuc3ViIiwiY3VycmVudFJvbGUiLCJyZXMiLCJzaWdudXBXaXRoRW1haWwiLCJwYXNzd29yZCIsImNyZWQiLCJhc3NpZ25lZFJvbGUiLCJfZXJyIiwibG9naW5XaXRoRW1haWwiLCJsb2dpbldpdGhHb29nbGUiLCJpc1BvcHVwQmxvY2tlZCIsInRlc3RQb3B1cCIsIndpbmRvdyIsIm9wZW4iLCJjbG9zZSIsInNob3VsZFVzZVJlZGlyZWN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicG9wdXBFcnJvciIsImlzUG9wdXBCbG9ja2VkRXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsInJlZGlyZWN0RXJyb3IiLCJsb2dvdXQiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlQXV0aCIsImN0eCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./contexts/AuthContext.jsx\n"));

/***/ })

});